/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunkwebframez_react_dev"] = self["webpackChunkwebframez_react_dev"] || []).push([["client1"],{

/***/ "./dist/src/components/LoginForm.js"
/*!******************************************!*\
  !*** ./dist/src/components/LoginForm.js ***!
  \******************************************/
(__unused_webpack_module, exports, __webpack_require__) {

"use strict";
eval("{\n\"use client\";\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\nexports[\"default\"] = LoginForm;\nconst jsx_runtime_1 = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nconst react_1 = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\nconst client_1 = __webpack_require__(/*! webframez-react/client */ \"../dist/client.cjs\");\nfunction LoginForm() {\n    const [email, setEmail] = (0, react_1.useState)(\"\");\n    const [password, setPassword] = (0, react_1.useState)(\"\");\n    const [error, setError] = (0, react_1.useState)(\"\");\n    const cookie = (0, client_1.useCookie)();\n    const router = (0, client_1.useRouter)();\n    const submit = (event) => {\n        event.preventDefault();\n        setError(\"\");\n        if (email === \"test@test.de\" && password === \"test123\") {\n            cookie.set(\"logged_in\", \"1\", {\n                path: \"/react\",\n                sameSite: \"Lax\",\n                maxAge: 60 * 60 * 24 * 7,\n            });\n            router.refresh();\n            return;\n        }\n        setError(\"Ungueltige Zugangsdaten\");\n    };\n    return ((0, jsx_runtime_1.jsxs)(\"form\", { style: { display: \"grid\", gap: 12, maxWidth: 320 }, onSubmit: submit, children: [(0, jsx_runtime_1.jsxs)(\"label\", { style: { display: \"grid\", gap: 4 }, children: [(0, jsx_runtime_1.jsx)(\"span\", { children: \"Email\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"email\", value: email, onChange: (event) => setEmail(event.target.value), placeholder: \"you@example.com\" })] }), (0, jsx_runtime_1.jsxs)(\"label\", { style: { display: \"grid\", gap: 4 }, children: [(0, jsx_runtime_1.jsx)(\"span\", { children: \"Password\" }), (0, jsx_runtime_1.jsx)(\"input\", { type: \"password\", value: password, onChange: (event) => setPassword(event.target.value), placeholder: \"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\" })] }), error ? (0, jsx_runtime_1.jsx)(\"p\", { style: { color: \"red\", margin: 0 }, children: error }) : null, (0, jsx_runtime_1.jsx)(\"button\", { type: \"submit\", children: \"Sign in\" })] }));\n}\n\n\n//# sourceURL=webpack://webframez-react-dev/./dist/src/components/LoginForm.js?\n}");

/***/ },

/***/ "../dist/client.cjs"
/*!**************************!*\
  !*** ../dist/client.cjs ***!
  \**************************/
(module, __unused_webpack_exports, __webpack_require__) {

eval("{var __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __export = (target, all) => {\n  for (var name in all)\n    __defProp(target, name, { get: all[name], enumerable: true });\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  // If the importer is in node compatibility mode or this is not an ESM\n  // file that has been converted to a CommonJS file using a Babel-\n  // compatible transform (i.e. \"__esModule\" has not been set), then set\n  // \"default\" to the CommonJS \"module.exports\" for node compatibility.\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\n\n// src/client.tsx\nvar client_exports = {};\n__export(client_exports, {\n  mountWebframezClient: () => mountWebframezClient,\n  useCookie: () => useCookie,\n  useRouter: () => useRouter\n});\nmodule.exports = __toCommonJS(client_exports);\nvar import_react = __toESM(__webpack_require__(/*! react */ \"./node_modules/react/index.js\"), 1);\nvar import_client = __webpack_require__(/*! react-dom/client */ \"./node_modules/react-dom/client.js\");\nvar import_client2 = __webpack_require__(/*! react-server-dom-webpack/client */ \"./node_modules/react-server-dom-webpack/client.browser.js\");\nvar import_jsx_runtime = __webpack_require__(/*! react/jsx-runtime */ \"./node_modules/react/jsx-runtime.js\");\nvar noopRouter = {\n  push: () => {\n  },\n  replace: () => {\n  },\n  refresh: () => {\n  }\n};\nvar RouterContext = typeof import_react.default.createContext === \"function\" ? import_react.default.createContext(null) : null;\nvar GLOBAL_ROUTER_KEY = \"__WEBFRAMEZ_ROUTER__\";\nvar MANAGED_HEAD_SELECTOR = \"[data-webframez-head='true']\";\nfunction readGlobalRouter() {\n  if (typeof window === \"undefined\") {\n    return null;\n  }\n  const value = window[GLOBAL_ROUTER_KEY];\n  return value ?? null;\n}\nfunction writeGlobalRouter(router) {\n  if (typeof window === \"undefined\") {\n    return;\n  }\n  window[GLOBAL_ROUTER_KEY] = router;\n}\nfunction parseBrowserCookies() {\n  const result = {};\n  const raw = typeof document === \"undefined\" ? \"\" : document.cookie;\n  if (!raw || raw.trim() === \"\") {\n    return result;\n  }\n  for (const part of raw.split(\";\")) {\n    const trimmed = part.trim();\n    if (!trimmed) {\n      continue;\n    }\n    const eqIndex = trimmed.indexOf(\"=\");\n    const name = eqIndex >= 0 ? trimmed.slice(0, eqIndex).trim() : trimmed;\n    const value = eqIndex >= 0 ? trimmed.slice(eqIndex + 1) : \"\";\n    if (!name) {\n      continue;\n    }\n    result[name] = decodeURIComponent(value);\n  }\n  return result;\n}\nfunction buildCookieString(name, value, options = {}) {\n  const cookieParts = [`${name}=${encodeURIComponent(value)}`];\n  if (options.path) {\n    cookieParts.push(`Path=${options.path}`);\n  }\n  if (options.domain) {\n    cookieParts.push(`Domain=${options.domain}`);\n  }\n  if (typeof options.maxAge === \"number\") {\n    cookieParts.push(`Max-Age=${Math.floor(options.maxAge)}`);\n  }\n  if (options.expires) {\n    cookieParts.push(`Expires=${options.expires.toUTCString()}`);\n  }\n  if (options.sameSite) {\n    cookieParts.push(`SameSite=${options.sameSite}`);\n  }\n  if (options.secure) {\n    cookieParts.push(\"Secure\");\n  }\n  return cookieParts.join(\"; \");\n}\nfunction useCookie() {\n  return import_react.default.useMemo(\n    () => ({\n      all: () => parseBrowserCookies(),\n      get: (name) => parseBrowserCookies()[name],\n      set: (name, value, options) => {\n        if (typeof document === \"undefined\") {\n          return;\n        }\n        document.cookie = buildCookieString(name, value, options);\n      },\n      remove: (name, options) => {\n        if (typeof document === \"undefined\") {\n          return;\n        }\n        document.cookie = buildCookieString(name, \"\", {\n          ...options ?? {},\n          maxAge: 0\n        });\n      }\n    }),\n    []\n  );\n}\nfunction useRouter() {\n  const value = RouterContext ? import_react.default.useContext(RouterContext) : null;\n  if (!value) {\n    const globalRouter = readGlobalRouter();\n    if (globalRouter) {\n      return globalRouter;\n    }\n    if (typeof window === \"undefined\") {\n      return noopRouter;\n    }\n    throw new Error(\"useRouter must be used inside mountWebframezClient()\");\n  }\n  return value;\n}\nfunction LoaderBar({ active }) {\n  return /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\n    \"div\",\n    {\n      style: {\n        position: \"fixed\",\n        top: 0,\n        left: 0,\n        width: \"100%\",\n        height: 3,\n        zIndex: 9999,\n        transformOrigin: \"left\",\n        transform: active ? \"scaleX(1)\" : \"scaleX(0)\",\n        transition: \"transform 180ms ease\",\n        background: \"linear-gradient(90deg, #0ea5e9, #22c55e)\"\n      }\n    }\n  );\n}\nfunction appendManagedMetaTag(meta) {\n  const element = document.createElement(\"meta\");\n  element.setAttribute(\"data-webframez-head\", \"true\");\n  const entries = Object.entries(meta).filter(([, value]) => Boolean(value));\n  for (const [key, value] of entries) {\n    element.setAttribute(key, String(value));\n  }\n  document.head.appendChild(element);\n}\nfunction appendManagedLinkTag(link) {\n  const element = document.createElement(\"link\");\n  element.setAttribute(\"data-webframez-head\", \"true\");\n  const entries = Object.entries(link).filter(([, value]) => Boolean(value));\n  for (const [key, value] of entries) {\n    element.setAttribute(key, String(value));\n  }\n  document.head.appendChild(element);\n}\nfunction applyHead(head) {\n  if (typeof document === \"undefined\") {\n    return;\n  }\n  document.title = head.title || \"Webframez React\";\n  for (const managedNode of document.head.querySelectorAll(MANAGED_HEAD_SELECTOR)) {\n    managedNode.remove();\n  }\n  if (head.description) {\n    appendManagedMetaTag({\n      name: \"description\",\n      content: head.description\n    });\n  }\n  if (head.favicon) {\n    appendManagedLinkTag({\n      rel: \"icon\",\n      href: head.favicon\n    });\n  }\n  for (const meta of head.meta ?? []) {\n    appendManagedMetaTag(meta);\n  }\n  for (const link of head.links ?? []) {\n    appendManagedLinkTag(link);\n  }\n}\nfunction createApp(rscEndpoint) {\n  return function App() {\n    const [tree, setTree] = (0, import_react.useState)(null);\n    const [pending, setPending] = (0, import_react.useState)(false);\n    async function navigate(url, mode = \"push\") {\n      setPending(true);\n      try {\n        const response = (0, import_client2.createFromFetch)(\n          fetch(\n            `${rscEndpoint}?path=${encodeURIComponent(url.pathname)}&search=${encodeURIComponent(url.search)}`,\n            {\n              headers: {\n                Accept: \"text/x-component\"\n              }\n            }\n          )\n        );\n        const nextPayload = await response;\n        applyHead(nextPayload.head);\n        setTree(nextPayload.model);\n        const nextHref = `${url.pathname}${url.search}`;\n        if (mode === \"replace\") {\n          history.replaceState(null, \"\", nextHref);\n        } else if (mode === \"push\") {\n          history.pushState(null, \"\", nextHref);\n        }\n      } catch (error) {\n        console.error(\"[webframez-react] Failed to render route\", error);\n        setTree(/* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"p\", { children: \"Failed to load route.\" }));\n      } finally {\n        setPending(false);\n      }\n    }\n    (0, import_react.useEffect)(() => {\n      const onPopState = () => {\n        navigate(new URL(window.location.href), \"none\");\n      };\n      window.addEventListener(\"popstate\", onPopState);\n      navigate(new URL(window.location.href), \"none\");\n      return () => {\n        window.removeEventListener(\"popstate\", onPopState);\n      };\n    }, []);\n    const routerValue = import_react.default.useMemo(\n      () => ({\n        push: (href) => {\n          void navigate(new URL(href, window.location.origin), \"push\");\n        },\n        replace: (href) => {\n          void navigate(new URL(href, window.location.origin), \"replace\");\n        },\n        refresh: () => {\n          void navigate(new URL(window.location.href), \"none\");\n        }\n      }),\n      []\n    );\n    writeGlobalRouter(routerValue);\n    if (!RouterContext) {\n      return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [\n        /* @__PURE__ */ (0, import_jsx_runtime.jsx)(LoaderBar, { active: pending }),\n        tree ?? /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"p\", { style: { padding: 24 }, children: \"Loading...\" })\n      ] });\n    }\n    return /* @__PURE__ */ (0, import_jsx_runtime.jsxs)(RouterContext.Provider, { value: routerValue, children: [\n      /* @__PURE__ */ (0, import_jsx_runtime.jsx)(LoaderBar, { active: pending }),\n      tree ?? /* @__PURE__ */ (0, import_jsx_runtime.jsx)(\"p\", { style: { padding: 24 }, children: \"Loading...\" })\n    ] });\n  };\n}\nfunction mountWebframezClient(options = {}) {\n  const rootId = options.rootId ?? \"root\";\n  const rootEl = document.getElementById(rootId);\n  if (!rootEl) {\n    throw new Error(`Missing #${rootId} element`);\n  }\n  const endpointFromGlobal = typeof window !== \"undefined\" && window.__RSC_ENDPOINT;\n  const rscEndpoint = options.rscEndpoint ?? endpointFromGlobal ?? \"/rsc\";\n  const App = createApp(rscEndpoint);\n  const root = (0, import_client.createRoot)(rootEl);\n  root.render(/* @__PURE__ */ (0, import_jsx_runtime.jsx)(App, {}));\n  return root;\n}\n//# sourceMappingURL=client.cjs.map\n\n\n//# sourceURL=webpack://webframez-react-dev/../dist/client.cjs?\n}");

/***/ }

}]);